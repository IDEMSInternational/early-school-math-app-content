{
  "flow_type": "template",
  "flow_name": "esm_standards_viewer",
  "status": "released",
  "rows": [
    {
      "name": "esm_content_ptr",
      "type": "set_variable",
      "_nested_name": "esm_content_ptr"
    },
    {
      "name": "remove_paragraph_space",
      "value": "margin-top: -5px",
      "_translations": {
        "value": {}
      },
      "type": "set_variable",
      "_nested_name": "remove_paragraph_space"
    },
    {
      "name": "paragraph_space",
      "value": "margin-top: 0px",
      "_translations": {
        "value": {}
      },
      "type": "set_variable",
      "_nested_name": "paragraph_space"
    },
    {
      "name": "topic1_ptr",
      "value": "local.esm_content_ptr.topic_theme_1",
      "_translations": {
        "value": {}
      },
      "type": "set_variable",
      "_nested_name": "topic1_ptr"
    },
    {
      "name": "topic1",
      "value": "@@local.topic1_ptr",
      "_translations": {
        "value": {}
      },
      "type": "set_variable",
      "_nested_name": "topic1",
      "_dynamicFields": {
        "value": [
          {
            "fullExpression": "@@local.topic1_ptr",
            "matchedExpression": "@local.topic1_ptr",
            "type": "local",
            "fieldName": "topic1_ptr"
          }
        ]
      },
      "_dynamicDependencies": {
        "@local.topic1_ptr": [
          "value"
        ]
      }
    },
    {
      "name": "ccssm_should_be_seen",
      "value": "@fields.curriculum_standard_abbrev == \"CCSSM\"",
      "_translations": {
        "value": {}
      },
      "type": "set_variable",
      "_nested_name": "ccssm_should_be_seen",
      "_dynamicFields": {
        "value": [
          {
            "fullExpression": "@fields.curriculum_standard_abbrev == \"CCSSM\"",
            "matchedExpression": "@fields.curriculum_standard_abbrev",
            "type": "fields",
            "fieldName": "curriculum_standard_abbrev"
          }
        ]
      },
      "_dynamicDependencies": {
        "@fields.curriculum_standard_abbrev": [
          "value"
        ]
      }
    },
    {
      "name": "display_ccssm_standards",
      "value": "@local.topic1 && @local.ccssm_should_be_seen",
      "_translations": {
        "value": {}
      },
      "type": "set_variable",
      "_nested_name": "display_ccssm_standards",
      "_dynamicFields": {
        "value": [
          {
            "fullExpression": "@local.topic1 && @local.ccssm_should_be_seen",
            "matchedExpression": "@local.topic1",
            "type": "local",
            "fieldName": "topic1"
          },
          {
            "fullExpression": "@local.topic1 && @local.ccssm_should_be_seen",
            "matchedExpression": "@local.ccssm_should_be_seen",
            "type": "local",
            "fieldName": "ccssm_should_be_seen"
          }
        ]
      },
      "_dynamicDependencies": {
        "@local.topic1": [
          "value"
        ],
        "@local.ccssm_should_be_seen": [
          "value"
        ]
      }
    },
    {
      "type": "display_group",
      "condition": "@local.display_ccssm_standards",
      "parameter_list": {
        "style": "column"
      },
      "style_list": [
        "margin-top: -10px"
      ],
      "rows": [
        {
          "name": "topic_theme_base_chars",
          "value": "topic_theme_",
          "_translations": {
            "value": {}
          },
          "type": "set_variable",
          "_nested_name": "display_group_9.topic_theme_base_chars"
        },
        {
          "name": "standards_set",
          "value": "@calc(new Set())",
          "_translations": {
            "value": {}
          },
          "type": "set_variable",
          "_nested_name": "display_group_9.standards_set",
          "_dynamicFields": {
            "value": [
              {
                "fullExpression": "@calc(new Set())",
                "matchedExpression": "@calc(new Set())",
                "type": "calc",
                "fieldName": "new Set()"
              }
            ]
          },
          "_dynamicDependencies": {
            "@calc(new Set())": [
              "value"
            ]
          }
        },
        {
          "name": "added_something",
          "value": false,
          "type": "set_variable",
          "_nested_name": "display_group_9.added_something"
        },
        {
          "type": "items",
          "name": "run_through_topics",
          "value": "@data.efm_num_list_one_to_ten",
          "rows": [
            {
              "name": "topic_theme_chars",
              "value": "@local.topic_theme_base_chars@item.number",
              "_translations": {
                "value": {}
              },
              "type": "set_variable",
              "_nested_name": "display_group_9.run_through_topics.topic_theme_chars",
              "_dynamicFields": {
                "value": [
                  {
                    "fullExpression": "@local.topic_theme_base_chars@item.number",
                    "matchedExpression": "@local.topic_theme_base_chars",
                    "type": "local",
                    "fieldName": "topic_theme_base_chars"
                  },
                  {
                    "fullExpression": "@local.topic_theme_base_chars@item.number",
                    "matchedExpression": "@item.number",
                    "type": "item",
                    "fieldName": "number"
                  }
                ]
              },
              "_dynamicDependencies": {
                "@local.topic_theme_base_chars": [
                  "value"
                ],
                "@item.number": [
                  "value"
                ]
              }
            },
            {
              "name": "theme_ptr",
              "value": "local.esm_content_ptr.@local.topic_theme_chars",
              "_translations": {
                "value": {}
              },
              "type": "set_variable",
              "_nested_name": "display_group_9.run_through_topics.theme_ptr",
              "_dynamicFields": {
                "value": [
                  {
                    "fullExpression": "local.esm_content_ptr.@local.topic_theme_chars",
                    "matchedExpression": "@local.topic_theme_chars",
                    "type": "local",
                    "fieldName": "topic_theme_chars"
                  }
                ]
              },
              "_dynamicDependencies": {
                "@local.topic_theme_chars": [
                  "value"
                ]
              }
            },
            {
              "name": "topic_theme",
              "value": "@@local.theme_ptr",
              "_translations": {
                "value": {}
              },
              "type": "set_variable",
              "_nested_name": "display_group_9.run_through_topics.topic_theme",
              "_dynamicFields": {
                "value": [
                  {
                    "fullExpression": "@@local.theme_ptr",
                    "matchedExpression": "@local.theme_ptr",
                    "type": "local",
                    "fieldName": "theme_ptr"
                  }
                ]
              },
              "_dynamicDependencies": {
                "@local.theme_ptr": [
                  "value"
                ]
              }
            },
            {
              "type": "display_group",
              "name": "process_topic",
              "condition": "@local.topic_theme",
              "rows": [
                {
                  "name": "topic_row",
                  "value": "data.esm_topics.@local.topic_theme",
                  "_translations": {
                    "value": {}
                  },
                  "type": "set_variable",
                  "_nested_name": "display_group_9.run_through_topics.process_topic.topic_row",
                  "_dynamicFields": {
                    "value": [
                      {
                        "fullExpression": "data.esm_topics.@local.topic_theme",
                        "matchedExpression": "@local.topic_theme",
                        "type": "local",
                        "fieldName": "topic_theme"
                      }
                    ]
                  },
                  "_dynamicDependencies": {
                    "@local.topic_theme": [
                      "value"
                    ]
                  }
                },
                {
                  "name": "topic_row_ptr",
                  "value": "@@local.topic_row",
                  "_translations": {
                    "value": {}
                  },
                  "type": "set_variable",
                  "_nested_name": "display_group_9.run_through_topics.process_topic.topic_row_ptr",
                  "_dynamicFields": {
                    "value": [
                      {
                        "fullExpression": "@@local.topic_row",
                        "matchedExpression": "@local.topic_row",
                        "type": "local",
                        "fieldName": "topic_row"
                      }
                    ]
                  },
                  "_dynamicDependencies": {
                    "@local.topic_row": [
                      "value"
                    ]
                  }
                },
                {
                  "name": "topic_ccssm",
                  "value": "@local.topic_row_ptr.ccssm_standards",
                  "_translations": {
                    "value": {}
                  },
                  "type": "set_variable",
                  "_nested_name": "display_group_9.run_through_topics.process_topic.topic_ccssm",
                  "_dynamicFields": {
                    "value": [
                      {
                        "fullExpression": "@local.topic_row_ptr.ccssm_standards",
                        "matchedExpression": "@local.topic_row_ptr.ccssm_standards",
                        "type": "local",
                        "fieldName": "topic_row_ptr"
                      }
                    ]
                  },
                  "_dynamicDependencies": {
                    "@local.topic_row_ptr.ccssm_standards": [
                      "value"
                    ]
                  }
                },
                {
                  "type": "display_group",
                  "name": "process_ccssm",
                  "condition": "@local.topic_ccssm",
                  "rows": [
                    {
                      "name": "added_something",
                      "value": true,
                      "type": "set_variable",
                      "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm.added_something"
                    },
                    {
                      "name": "ccssm_array",
                      "value": "@calc(@local.topic_ccssm.split(\",\"))",
                      "_translations": {
                        "value": {}
                      },
                      "type": "set_variable",
                      "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm.ccssm_array",
                      "_dynamicFields": {
                        "value": [
                          {
                            "fullExpression": "@calc(@local.topic_ccssm.split(\",\"))",
                            "matchedExpression": "@local.topic_ccssm.split",
                            "type": "local",
                            "fieldName": "topic_ccssm"
                          },
                          {
                            "fullExpression": "@calc(@local.topic_ccssm.split(\",\"))",
                            "matchedExpression": "@calc(@local.topic_ccssm.split(\",\"))",
                            "type": "calc",
                            "fieldName": "@local.topic_ccssm.split(\",\")"
                          }
                        ]
                      },
                      "_dynamicDependencies": {
                        "@local.topic_ccssm.split": [
                          "value"
                        ],
                        "@calc(@local.topic_ccssm.split(\",\"))": [
                          "value"
                        ]
                      }
                    },
                    {
                      "name": "ccssm_set",
                      "value": "@calc(new Set(@local.ccssm_array))",
                      "_translations": {
                        "value": {}
                      },
                      "type": "set_variable",
                      "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm.ccssm_set",
                      "_dynamicFields": {
                        "value": [
                          {
                            "fullExpression": "@calc(new Set(@local.ccssm_array))",
                            "matchedExpression": "@local.ccssm_array",
                            "type": "local",
                            "fieldName": "ccssm_array"
                          },
                          {
                            "fullExpression": "@calc(new Set(@local.ccssm_array))",
                            "matchedExpression": "@calc(new Set(@local.ccssm_array))",
                            "type": "calc",
                            "fieldName": "new Set(@local.ccssm_array)"
                          }
                        ]
                      },
                      "_dynamicDependencies": {
                        "@local.ccssm_array": [
                          "value"
                        ],
                        "@calc(new Set(@local.ccssm_array))": [
                          "value"
                        ]
                      }
                    },
                    {
                      "type": "text",
                      "name": "deeebug",
                      "value": "CCSSM Array: @local.ccssm_array",
                      "_translations": {
                        "value": {}
                      },
                      "condition": false,
                      "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm.deeebug",
                      "_dynamicFields": {
                        "value": [
                          {
                            "fullExpression": "CCSSM Array: @local.ccssm_array",
                            "matchedExpression": "@local.ccssm_array",
                            "type": "local",
                            "fieldName": "ccssm_array"
                          }
                        ]
                      },
                      "_dynamicDependencies": {
                        "@local.ccssm_array": [
                          "value"
                        ]
                      }
                    },
                    {
                      "name": "standards_set",
                      "value": "@calc(@local.standards_set.union(@local.ccssm_set))",
                      "_translations": {
                        "value": {}
                      },
                      "type": "set_variable",
                      "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm.standards_set",
                      "_dynamicFields": {
                        "value": [
                          {
                            "fullExpression": "@calc(@local.standards_set.union(@local.ccssm_set))",
                            "matchedExpression": "@local.standards_set.union",
                            "type": "local",
                            "fieldName": "standards_set"
                          },
                          {
                            "fullExpression": "@calc(@local.standards_set.union(@local.ccssm_set))",
                            "matchedExpression": "@local.ccssm_set",
                            "type": "local",
                            "fieldName": "ccssm_set"
                          },
                          {
                            "fullExpression": "@calc(@local.standards_set.union(@local.ccssm_set))",
                            "matchedExpression": "@calc(@local.standards_set.union(@local.ccssm_set))",
                            "type": "calc",
                            "fieldName": "@local.standards_set.union(@local.ccssm_set)"
                          }
                        ]
                      },
                      "_dynamicDependencies": {
                        "@local.standards_set.union": [
                          "value"
                        ],
                        "@local.ccssm_set": [
                          "value"
                        ],
                        "@calc(@local.standards_set.union(@local.ccssm_set))": [
                          "value"
                        ]
                      }
                    },
                    {
                      "type": "text",
                      "name": "debugg",
                      "value": "Topic CCSSM: @local.topic_ccssm",
                      "_translations": {
                        "value": {}
                      },
                      "condition": false,
                      "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm.debugg",
                      "_dynamicFields": {
                        "value": [
                          {
                            "fullExpression": "Topic CCSSM: @local.topic_ccssm",
                            "matchedExpression": "@local.topic_ccssm",
                            "type": "local",
                            "fieldName": "topic_ccssm"
                          }
                        ]
                      },
                      "_dynamicDependencies": {
                        "@local.topic_ccssm": [
                          "value"
                        ]
                      }
                    }
                  ],
                  "_nested_name": "display_group_9.run_through_topics.process_topic.process_ccssm",
                  "_dynamicFields": {
                    "condition": [
                      {
                        "fullExpression": "@local.topic_ccssm",
                        "matchedExpression": "@local.topic_ccssm",
                        "type": "local",
                        "fieldName": "topic_ccssm"
                      }
                    ]
                  },
                  "_dynamicDependencies": {
                    "@local.topic_ccssm": [
                      "condition"
                    ]
                  }
                }
              ],
              "_nested_name": "display_group_9.run_through_topics.process_topic",
              "_dynamicFields": {
                "condition": [
                  {
                    "fullExpression": "@local.topic_theme",
                    "matchedExpression": "@local.topic_theme",
                    "type": "local",
                    "fieldName": "topic_theme"
                  }
                ]
              },
              "_dynamicDependencies": {
                "@local.topic_theme": [
                  "condition"
                ]
              }
            }
          ],
          "_nested_name": "display_group_9.run_through_topics",
          "_dynamicFields": {
            "value": [
              {
                "fullExpression": "@data.efm_num_list_one_to_ten",
                "matchedExpression": "@data.efm_num_list_one_to_ten",
                "type": "data",
                "fieldName": "efm_num_list_one_to_ten"
              }
            ]
          },
          "_dynamicDependencies": {
            "@data.efm_num_list_one_to_ten": [
              "value"
            ]
          }
        },
        {
          "name": "standards_array",
          "value": "@calc(Array.from(@local.standards_set))",
          "_translations": {
            "value": {}
          },
          "condition": "@local.added_something",
          "type": "set_variable",
          "_nested_name": "display_group_9.standards_array",
          "_dynamicFields": {
            "value": [
              {
                "fullExpression": "@calc(Array.from(@local.standards_set))",
                "matchedExpression": "@local.standards_set",
                "type": "local",
                "fieldName": "standards_set"
              },
              {
                "fullExpression": "@calc(Array.from(@local.standards_set))",
                "matchedExpression": "@calc(Array.from(@local.standards_set))",
                "type": "calc",
                "fieldName": "Array.from(@local.standards_set)"
              }
            ],
            "condition": [
              {
                "fullExpression": "@local.added_something",
                "matchedExpression": "@local.added_something",
                "type": "local",
                "fieldName": "added_something"
              }
            ]
          },
          "_dynamicDependencies": {
            "@local.standards_set": [
              "value"
            ],
            "@calc(Array.from(@local.standards_set))": [
              "value"
            ],
            "@local.added_something": [
              "condition"
            ]
          }
        },
        {
          "name": "value_ignored",
          "value": "@calc(@local.standards_array.sort())",
          "_translations": {
            "value": {}
          },
          "condition": "@local.added_something",
          "type": "set_variable",
          "_nested_name": "display_group_9.value_ignored",
          "_dynamicFields": {
            "value": [
              {
                "fullExpression": "@calc(@local.standards_array.sort())",
                "matchedExpression": "@local.standards_array.sort",
                "type": "local",
                "fieldName": "standards_array"
              },
              {
                "fullExpression": "@calc(@local.standards_array.sort())",
                "matchedExpression": "@calc(@local.standards_array.sort())",
                "type": "calc",
                "fieldName": "@local.standards_array.sort()"
              }
            ],
            "condition": [
              {
                "fullExpression": "@local.added_something",
                "matchedExpression": "@local.added_something",
                "type": "local",
                "fieldName": "added_something"
              }
            ]
          },
          "_dynamicDependencies": {
            "@local.standards_array.sort": [
              "value"
            ],
            "@calc(@local.standards_array.sort())": [
              "value"
            ],
            "@local.added_something": [
              "condition"
            ]
          }
        },
        {
          "name": "standards_string",
          "value": "@calc(@local.standards_array.join(', '))",
          "_translations": {
            "value": {}
          },
          "condition": "@local.added_something",
          "type": "set_variable",
          "_nested_name": "display_group_9.standards_string",
          "_dynamicFields": {
            "value": [
              {
                "fullExpression": "@calc(@local.standards_array.join(', '))",
                "matchedExpression": "@local.standards_array.join",
                "type": "local",
                "fieldName": "standards_array"
              },
              {
                "fullExpression": "@calc(@local.standards_array.join(', '))",
                "matchedExpression": "@calc(@local.standards_array.join(', '))",
                "type": "calc",
                "fieldName": "@local.standards_array.join(', ')"
              }
            ],
            "condition": [
              {
                "fullExpression": "@local.added_something",
                "matchedExpression": "@local.added_something",
                "type": "local",
                "fieldName": "added_something"
              }
            ]
          },
          "_dynamicDependencies": {
            "@local.standards_array.join": [
              "value"
            ],
            "@calc(@local.standards_array.join(', '))": [
              "value"
            ],
            "@local.added_something": [
              "condition"
            ]
          }
        },
        {
          "type": "text",
          "name": "output",
          "value": "CCSSM: @local.standards_string",
          "_translations": {
            "value": {}
          },
          "condition": "@local.added_something",
          "_nested_name": "display_group_9.output",
          "_dynamicFields": {
            "value": [
              {
                "fullExpression": "CCSSM: @local.standards_string",
                "matchedExpression": "@local.standards_string",
                "type": "local",
                "fieldName": "standards_string"
              }
            ],
            "condition": [
              {
                "fullExpression": "@local.added_something",
                "matchedExpression": "@local.added_something",
                "type": "local",
                "fieldName": "added_something"
              }
            ]
          },
          "_dynamicDependencies": {
            "@local.standards_string": [
              "value"
            ],
            "@local.added_something": [
              "condition"
            ]
          }
        }
      ],
      "name": "display_group_9",
      "_nested_name": "display_group_9",
      "_dynamicFields": {
        "condition": [
          {
            "fullExpression": "@local.display_ccssm_standards",
            "matchedExpression": "@local.display_ccssm_standards",
            "type": "local",
            "fieldName": "display_ccssm_standards"
          }
        ]
      },
      "_dynamicDependencies": {
        "@local.display_ccssm_standards": [
          "condition"
        ]
      }
    }
  ],
  "_xlsxPath": "EFM_routines_high_level_sheets.xlsx",
  "_sheetsFolderUrl": "https://drive.google.com/drive/u/0/folders/1PeJ5ishcTCWUvjhflbQqKO6M8u9rNuec"
}